<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="calibmsm">
<title>Comparison-with-graphical-calibration-curves-in-competing-risks-setting • calibmsm</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparison-with-graphical-calibration-curves-in-competing-risks-setting">
<meta property="og:description" content="calibmsm">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">calibmsm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/BLR-IPCW-manual-bootstrap-with-custom-function-for-estimating-the-weights.html">BLR-IPCW-manual-bootstrap-with-custom-function-for-estimating-the-weights</a>
    <a class="dropdown-item" href="../articles/Comparison-with-graphical-calibration-curves-in-competing-risks-setting.html">Comparison-with-graphical-calibration-curves-in-competing-risks-setting</a>
    <a class="dropdown-item" href="../articles/evaluation_of_estimation_of_IPCWs.html">evaluation-of-estimation-of-IPCWs</a>
    <a class="dropdown-item" href="../articles/overview.html">overview</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Comparison-with-graphical-calibration-curves-in-competing-risks-setting</h1>
            
      
      
      <div class="d-none name"><code>Comparison-with-graphical-calibration-curves-in-competing-risks-setting.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="data-preperation">Data preperation<a class="anchor" aria-label="anchor" href="#data-preperation"></a>
</h2>
<p>This vignette compares the calibration of a competing risks model
using the approaches provided in <code>calibmsm</code>, namely the
BLR-IPCW and pseudo-value approaches, with graphical calibration curves
developed by <span class="citation">Austin et al. (2022)</span>. We use
data from the European Society for Blood and Marrow Transplantation
<span class="citation">(EBMT 2023)</span>, which contains multistate
survival data after a transplant for patients with blood cancer. The
start of follow up is the day of the transplant and the initial state is
alive and in remission. There are three intermediate events (<span class="math inline">\(2\)</span>: recovery, <span class="math inline">\(3\)</span>: adverse event, or <span class="math inline">\(4\)</span>: recovery + adverse event), and two
absorbing states (<span class="math inline">\(5\)</span>: relapse and
<span class="math inline">\(6\)</span>: death). This data was originally
made available from the <code>mstate</code> package <span class="citation">(Wreede, Fiocco, and Putter 2011)</span>. For this
example, we treat the transitions out of the first state as a standalone
competing risks model by setting all subsequent states to be absorbing
states. We are ignoring the subsequent multistate aspect of the
data.</p>
<p>We first load the predicted transition probabilities for each
individual from this model, which are provided in the dataset
<code>tp.cmprsk.j0</code>. The code for deriving this is available in
the source code for the package (see
<code>prepare_vignette_cmprsk_data.R</code>). These are generated by
specifying the transition matrix to define the competing risks model
(i.e. all subsequent states to act as absorbing states), and then
generate predicted risks (cumulative incidence functions) using the
theory of <span class="citation">Putter, Fiocco, and Geskus
(2007)</span>. These are derived using the software in
<code>mstate</code> <span class="citation">(Wreede, Fiocco, and Putter
2011)</span>. Predicted risks are generated for each individual using a
leave-one-out approach (i.e. each individual is removed from the
dataset, before fitting the competing risks model and generating
predicted risks). The following four variables were used to esimate the
predicted risks: year of transplant (<code>year</code>), age at
transplant (<code>age</code>), prophylaxis given (<code>proph</code>),
and whether the donor was gender matched (<code>match</code>).</p>
<p>The transition probabilities are stored in the object
<code>tp.cmprsk.j0</code>. Datasets in formats required for functions
<code>calib_blr</code> and <code>calib_pv</code> are stored in
<code>ebmtcal</code> (<code>data.raw</code> argument) and
<code>msebmtcal.cmprsk</code> (<code>data.mstate</code> argument). Note
that the <code>ebmtcal</code> dataset can still be used as the argument
for <code>data.raw</code>, but a new dataset for the
<code>data.mstate</code> argument is required, which reflects the fact
this is now a competing risks data structure. Please refer to the
vignette for more details about how these datasets should be formatted.
We assess calibration at 5 years (1826 days) for all methods.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://alexpate30.github.io/calibmsm/">calibmsm</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"tp.cmprsk.j0"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tp.cmprsk.j0</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id   pstate1   pstate2   pstate3 pstate4    pstate5    pstate6        se1</span></span>
<span><span class="co">#&gt; 1  1 0.1135057 0.4093590 0.3964498       0 0.02688596 0.05379955 0.01291270</span></span>
<span><span class="co">#&gt; 2  2 0.1135518 0.4114981 0.3942408       0 0.02689840 0.05381085 0.01291690</span></span>
<span><span class="co">#&gt; 3  3 0.1131989 0.4117482 0.3944988       0 0.02681945 0.05373457 0.01289565</span></span>
<span><span class="co">#&gt; 4  4 0.1376981 0.3870386 0.3728509       0 0.04027730 0.06213511 0.01858789</span></span>
<span><span class="co">#&gt; 5  5 0.1227877 0.4277392 0.3496972       0 0.03130458 0.06847131 0.01945048</span></span>
<span><span class="co">#&gt; 6  6 0.1131989 0.4117482 0.3944988       0 0.02681945 0.05373457 0.01289565</span></span>
<span><span class="co">#&gt;          se2        se3 se4         se5         se6</span></span>
<span><span class="co">#&gt; 1 0.01918215 0.01874680   0 0.006339773 0.007719292</span></span>
<span><span class="co">#&gt; 2 0.01920148 0.01870398   0 0.006342388 0.007719937</span></span>
<span><span class="co">#&gt; 3 0.01921355 0.01871733   0 0.006325238 0.007708340</span></span>
<span><span class="co">#&gt; 4 0.02447306 0.02323096   0 0.010698591 0.010818696</span></span>
<span><span class="co">#&gt; 5 0.02777129 0.02476595   0 0.009947925 0.012554747</span></span>
<span><span class="co">#&gt; 6 0.01921355 0.01871733   0 0.006325238 0.007708340</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ebmtcal"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ebmtcal</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  rec rec.s   ae ae.s recae recae.s  rel rel.s  srv srv.s      year agecl</span></span>
<span><span class="co">#&gt; 1  1   22     1  995    0   995       0  995     0  995     0 1995-1998 20-40</span></span>
<span><span class="co">#&gt; 2  2   29     1   12    1    29       1  422     1  579     1 1995-1998 20-40</span></span>
<span><span class="co">#&gt; 3  3 1264     0   27    1  1264       0 1264     0 1264     0 1995-1998 20-40</span></span>
<span><span class="co">#&gt; 4  4   50     1   42    1    50       1   84     1  117     1 1995-1998 20-40</span></span>
<span><span class="co">#&gt; 5  5   22     1 1133    0  1133       0  114     1 1133     0 1995-1998   &gt;40</span></span>
<span><span class="co">#&gt; 6  6   33     1   27    1    33       1 1427     0 1427     0 1995-1998 20-40</span></span>
<span><span class="co">#&gt;   proph              match dtcens dtcens.s</span></span>
<span><span class="co">#&gt; 1    no no gender mismatch    995        1</span></span>
<span><span class="co">#&gt; 2    no no gender mismatch    422        0</span></span>
<span><span class="co">#&gt; 3    no no gender mismatch   1264        1</span></span>
<span><span class="co">#&gt; 4    no    gender mismatch     84        0</span></span>
<span><span class="co">#&gt; 5    no    gender mismatch    114        0</span></span>
<span><span class="co">#&gt; 6    no no gender mismatch   1427        1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"msebmtcal.cmprsk"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">msebmtcal.cmprsk</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id from to trans Tstart Tstop time status</span></span>
<span><span class="co">#&gt; 1  1    1  2     1      0    22   22      1</span></span>
<span><span class="co">#&gt; 2  1    1  3     2      0    22   22      0</span></span>
<span><span class="co">#&gt; 3  1    1  5     3      0    22   22      0</span></span>
<span><span class="co">#&gt; 4  1    1  6     4      0    22   22      0</span></span>
<span><span class="co">#&gt; 5  2    1  2     1      0    12   12      0</span></span>
<span><span class="co">#&gt; 6  2    1  3     2      0    12   12      1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="assess-calibration-using-blr-ipcw">Assess calibration using BLR-IPCW<a class="anchor" aria-label="anchor" href="#assess-calibration-using-blr-ipcw"></a>
</h2>
<p>We first assess the calibration of this competing risks model using
the BLR-IPCW approach, implemented through <code>calib_blr</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Estimate calibration curves</span></span>
<span><span class="va">dat.calib.blr</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/calib_blr.html">calib_blr</a></span><span class="op">(</span>data.mstate <span class="op">=</span> <span class="va">msebmtcal.cmprsk</span>,</span>
<span>                 data.raw <span class="op">=</span> <span class="va">ebmtcal</span>,</span>
<span>                 j<span class="op">=</span><span class="fl">1</span>,</span>
<span>                 s<span class="op">=</span><span class="fl">0</span>,</span>
<span>                 t <span class="op">=</span> <span class="fl">1826</span>,</span>
<span>                 tp.pred <span class="op">=</span> <span class="va">tp.cmprsk.j0</span> <span class="op">|&gt;</span></span>
<span>                   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu">any_of</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"pstate"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 curve.type <span class="op">=</span> <span class="st">"rcs"</span>,</span>
<span>                 rcs.nk <span class="op">=</span> <span class="fl">3</span>,</span>
<span>                 w.covs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year"</span>, <span class="st">"agecl"</span>, <span class="st">"proph"</span>, <span class="st">"match"</span><span class="op">)</span>,</span>
<span>                 CI <span class="op">=</span> <span class="fl">95</span>,</span>
<span>                 CI.R.boot <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Turn into plot and print</span></span>
<span><span class="va">plot.calibmsm.blr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dat.calib.blr</span>, combine <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot.calibmsm.blr</span></span></code></pre></div>
<div class="figure">
<p class="caption">
Figure 1: Calibration plots for competing risks model out of the
starting state when using BLR-IPCW
</p>
<img src="Comparison-with-graphical-calibration-curves-in-competing-risks-setting_files/figure-html/unnamed-chunk-4-1.png" alt="Figure 1: Calibration plots for competing risks model out of the starting state when using BLR-IPCW" width="720">
</div>
</div>
<div class="section level2">
<h2 id="assess-calibration-using-pseudo-values">Assess calibration using pseudo-values<a class="anchor" aria-label="anchor" href="#assess-calibration-using-pseudo-values"></a>
</h2>
<p>Next we assess the calibration of this competing risks model using
the pseudo-value approach, implemented through
<code>calib_pv</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Estimate calibration curves</span></span>
<span><span class="va">dat.calib.pv</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/calib_pv.html">calib_pv</a></span><span class="op">(</span>data.mstate <span class="op">=</span> <span class="va">msebmtcal.cmprsk</span>,</span>
<span>                 data.raw <span class="op">=</span> <span class="va">ebmtcal</span>,</span>
<span>                 j<span class="op">=</span><span class="fl">1</span>,</span>
<span>                 s<span class="op">=</span><span class="fl">0</span>,</span>
<span>                 t <span class="op">=</span> <span class="fl">1826</span>,</span>
<span>                 tp.pred <span class="op">=</span> <span class="va">tp.cmprsk.j0</span> <span class="op">|&gt;</span></span>
<span>                   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu">any_of</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"pstate"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 curve.type <span class="op">=</span> <span class="st">"rcs"</span>,</span>
<span>                 rcs.nk <span class="op">=</span> <span class="fl">3</span>,</span>
<span>                 n.pctls <span class="op">=</span> <span class="fl">9</span>,</span>
<span>                 CI <span class="op">=</span> <span class="fl">95</span>,</span>
<span>                 CI.type <span class="op">=</span> <span class="st">"parametric"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Calculate pseudo values for state =  1 2023-07-25 13:39:20.189453"</span></span>
<span><span class="co">#&gt; [1] "Calculate pseudo values for state =  2 2023-07-25 13:42:58.575942"</span></span>
<span><span class="co">#&gt; [1] "Calculate pseudo values for state =  3 2023-07-25 13:46:31.009072"</span></span>
<span><span class="co">#&gt; [1] "Calculate pseudo values for state =  5 2023-07-25 13:50:04.722192"</span></span>
<span><span class="co">#&gt; [1] "Calculate pseudo values for state =  6 2023-07-25 13:53:36.242397"</span></span>
<span></span>
<span><span class="co">### Turn into plot and print</span></span>
<span><span class="va">plot.calibmsm.pv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dat.calib.pv</span>, combine <span class="op">=</span> <span class="cn">TRUE</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot.calibmsm.pv</span></span></code></pre></div>
<div class="figure">
<p class="caption">
Figure 2: Calibration plots for competing risks model out of the
starting state when using pseudo-values
</p>
<img src="Comparison-with-graphical-calibration-curves-in-competing-risks-setting_files/figure-html/unnamed-chunk-6-1.png" alt="Figure 2: Calibration plots for competing risks model out of the starting state when using pseudo-values" width="720">
</div>
</div>
<div class="section level2">
<h2 id="assess-calibration-using-graphical-calibration-curves">Assess calibration using graphical calibration curves<a class="anchor" aria-label="anchor" href="#assess-calibration-using-graphical-calibration-curves"></a>
</h2>
<p>Finally we assess the calibration of this competing risks model using
the graphical calibration curves approach of <span class="citation">Austin et al. (2022)</span>. A custom function is
written to do this, which estimates the calibration curves and returns a
list of plots using <code>ggplot2</code>.</p>
<p>This function is then applied to estimate the calibration curves and
create the plots.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Estimate calibration curves and create plots</span></span>
<span><span class="va">plot.gcc.rcs.list</span> <span class="op">&lt;-</span> <span class="fu">calc.calib.gcc.mod</span><span class="op">(</span>data.mstate <span class="op">=</span> <span class="va">msebmtcal.cmprsk</span>,</span>
<span>                                    data.raw <span class="op">=</span> <span class="va">ebmtcal</span>,</span>
<span>                                    j <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                                    s <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                    t <span class="op">=</span> <span class="fl">1826</span>,</span>
<span>                                    p.est <span class="op">=</span> <span class="va">tp.cmprsk.j0</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"pstate"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                                    nk <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Combine into one plot and print</span></span>
<span><span class="va">plot.gcc.rcs</span> <span class="op">&lt;-</span> <span class="fu">ggpubr</span><span class="fu">::</span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span>plotlist <span class="op">=</span> <span class="va">plot.gcc.rcs.list</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot.gcc.rcs</span></span></code></pre></div>
<div class="figure">
<p class="caption">
Figure 3: Calibration plots for competing risks model out of the
starting state when using graphical calibration curves
</p>
<img src="Comparison-with-graphical-calibration-curves-in-competing-risks-setting_files/figure-html/unnamed-chunk-9-1.png" alt="Figure 3: Calibration plots for competing risks model out of the starting state when using graphical calibration curves" width="720">
</div>
</div>
<div class="section level2">
<h2 id="comarpsion-of-results">Comarpsion of results<a class="anchor" aria-label="anchor" href="#comarpsion-of-results"></a>
</h2>
<p>Note that the graphical calibration curves approach does not provide
a way to assess the calibration of state 1. The calibration of the
transition probabilities into all other states is very similar
irrespecive of the method used to assess calibration. This is with the
exception of the calibration of the transition probabilities into state
3 when using the BLR-IPCW approach. Possible reasons for this are
discussed in the vignette .</p>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Austin2022" class="csl-entry">
Austin, Peter C., Hein Putter, Daniele Giardiello, and David van
Klaveren. 2022. <span>“<span class="nocase">Graphical calibration curves
and the integrated calibration index (ICI) for competing risk
models</span>.”</span> <em>Diagnostic and Prognostic Research</em> 6
(1). <a href="https://doi.org/10.1186/s41512-021-00114-6" class="external-link">https://doi.org/10.1186/s41512-021-00114-6</a>.
</div>
<div id="ref-EBMT2023" class="csl-entry">
EBMT. 2023. <span>“<span class="nocase">Data from the European Society
for Blood and Marrow Transplantation</span>.”</span> <a href="https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html" class="external-link">https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html</a>.
</div>
<div id="ref-Putter2007" class="csl-entry">
Putter, H, M Fiocco, and R. B. Geskus. 2007. <span>“<span class="nocase">Tutorial in biostatistics: Competing risks and
multi-state models</span>.”</span> <em>Statistics in Medicine</em> 26
(11): 2389–2430. <a href="https://doi.org/10.1002/sim" class="external-link">https://doi.org/10.1002/sim</a>.
</div>
<div id="ref-DeWreede2011" class="csl-entry">
Wreede, Liesbeth C de, Marta Fiocco, and Hein Putter. 2011. <span>“<span class="nocase">mstate: An R Package for the Analysis of Competing Risks
and Multi-State Models</span>.”</span> <em>Journal of Statistical
Software</em> 38 (7).
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alexander Pate.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
